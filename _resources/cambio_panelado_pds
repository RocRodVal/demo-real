UPDATE pds
SET type_pds = XX, panelado_pds = YY
WHERE ((type_pds = JJ) AND (panelado_pds = ZZ));

DELETE displays_pds FROM displays_pds
INNER JOIN pds ON pds.id_pds = displays_pds.id_pds
WHERE pds.reference IN (XXX,YYY);

DELETE devices_pds FROM devices_pds
INNER JOIN pds ON pds.id_pds = devices_pds.id_pds
WHERE pds.reference IN ();

INSERT INTO displays_pds (client_type_pds,id_type_pds,id_pds,id_panelado,id_display,position,description,status)
SELECT pds.client_pds, pds.type_pds, pds.id_pds, pds.panelado_pds, displays_panelado.id_display, displays_panelado.position, '', 'Alta'
FROM pds, displays_panelado
WHERE pds.panelado_pds=displays_panelado.id_panelado
AND pds.reference IN ();

INSERT INTO devices_pds (client_type_pds,id_pds,id_displays_pds,id_display,position,id_device,IMEI,mac,serial,barcode,id_color_device,id_complement_device,id_status_device,id_status_packaging_device,picture_url_1,picture_url_2,picture_url_3,description,status)
SELECT pds.client_pds,pds.id_pds,displays_pds.id_displays_pds,displays_pds.id_display,devices_display.position,devices_display.id_device,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'Alta'
FROM pds,displays_pds,devices_display
WHERE pds.id_pds=displays_pds.id_pds
AND displays_pds.id_display=devices_display.id_display
AND pds.reference IN ();